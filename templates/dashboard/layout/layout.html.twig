{% extends 'base.html.twig' %}

{% block title %} {{ page_title }} | {{ page_prefix }} {% endblock %}

{% block stylesheets %}
    {{ encore_entry_link_tags('dashboard') }}
{% endblock %}

{% block body %}
    {% include "dashboard/layout/components/loader.html.twig" %}

    <div class="body">
        <nav>
            <div class="nav-header">
                <div class="nav-header-logo">
                    <img src="{{ asset('build/dashboard/images/logilink-logo.svg') }}" alt="Logo du site">
                </div>
            </div>
            <div id="menu" data-menu="{{ menu | json_encode }}" data-menu-bottom="{{ menuBottom | json_encode }}"></div>
        </nav>

        <main>

            <header>
                <div class="header-container">
                    <div id="notifications"></div>
                    <div id="theme"></div>
                    <div class="header-name">
                        <div class="profil">
                            <span>{{ app.user.lastname | upper }} {{ app.user.firstname | capitalize }}</span>
                            <a class="logout" href="{{ path('app_logout') }}">
                                <span>Se d√©connecter</span>
                            </a>
                        </div>
                        {% if app.user.avatar %}
                            <img src="{{ asset('avatars/' ~ app.user.avatar) }}" alt="Avatar de {{ app.user.userIdentifier }}">
                        {% else %}
                            <img src="https://robohash.org/{{ app.user.userIdentifier }}" alt="Avatar de {{ app.user.userIdentifier }}"/>
                        {% endif %}
                    </div>
                </div>
            </header>

            {% include "dashboard/layout/components/page_title.html.twig" %}
            {% include "dashboard/layout/components/submenu.html.twig" %}

            <div>
                {% block main_content %}{% endblock %}
            </div>

            {% block footer %}{% endblock %}
        </main>
    </div>
{% endblock %}

{% block javascripts %}
    {{ encore_entry_script_tags('dashboard') }}
{% endblock %}